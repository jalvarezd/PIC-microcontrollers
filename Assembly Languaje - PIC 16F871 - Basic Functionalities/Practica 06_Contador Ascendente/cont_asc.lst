MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001         list p=16f871
                      00002         #include <p16f877a.inc>
                      00001         LIST
                      00002 ; P16F877A.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
Message[301]: MESSAGE: (Processor-header file mismatch.  Verify selected processor.)
                      00398         LIST
                      00003 
                      00004 ;©Ing. Leonel Pérez R. ISSBN 010234
                      00005 ;Práctica 04 "CONTADOR ASCENDENTE".
                      00006 ;Este es un ejemplo de utilización de interrupciones. En la interrupción que produce el
                      00007 ;Timer 0 cada 1ms se produce el refrescamiento.
                      00008 ;DISPLAYS: Ánodo Común.
                      00009 ;Práctica Evaluativa: Convertir esta Aplicación en un CONTADOR DE 6 DÍGITOS ASCENDENTE 
                      00010 ;- DESCENDENTE.
                      00011 
                      00012 ;=============================================================================================
                      00013 ;ZONA DE DECLARACIÓN DE SÍMBOLOS Y VARIABLES.
                      00014 ;=============================================================================================
                      00015 ;Definición de la RAM de Display (L1 ... L6). En estas localizaciones se almacenará el dato que 
                      00016 ;deberá visualizarse en los displays (L1 ... L6) que en este caso es el conteo en BCD del contador 
                      00017 
  00000020            00018 l1              equ     0x20
  00000021            00019 l2              equ     0x21
  00000022            00020 l3              equ     0x22
  00000023            00021 l4              equ             0x23
  00000024            00022 l5              equ     0x24
  00000025            00023 l6              equ     0x25
                      00024 
                      00025 ;variables generales
                      00026 
  00000026            00027 nlamp           equ     0x26                    ;número de la lámpara que esta siendo refrescada
  00000027            00028 wtemp           equ     0x27                    ;respaldo del acumulador en la INT.
  00000028            00029 fsr_temp        equ             0x28                    ;respaldo temporal del FSR.
  00000029            00030 stat_temp       equ     0x29                    ;variable para respaldar el registro STATUS 
                      00031                                                                         ;durante la interrupción.
                      00032 ;Contadores para demora paramétrica
  0000002A            00033 cont1           equ     0x2a    
  0000002B            00034 cont2           equ     0x2b
  0000002C            00035 cont3           equ     0x2c
                      00036 
                      00037 
                      00038 ;parametros para fijar el tiempo de la demora
                      00039 
  0000002D            00040 N               equ     0x2d    ;factores de demora
  0000002E            00041 M               equ             0x2e    
                      00042 
                      00043 ;otras variables
                      00044 
  0000002F            00045 temp            equ     0x2f    ;varible temporal auxiliar.
                      00046 
                      00047 ;=============================================================================================
                      00048 ;Definición de Vectores (Reset e Interrupción).
                      00049 ;=============================================================================================
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00050 
0000                  00051                         org 0
0000   2805           00052                         goto inicio     ;vector de RESET.
0004                  00053                         org 4
0004   2825           00054                         goto IT         ;vector de INTERRUPCION.
                      00055 ;=============================================================================================
                      00056 ;Bloque de Configuración del Hardware.
                      00057 ;=============================================================================================
0005   1283           00058 inicio                          bcf 3,5
0006   1303           00059                                         bcf 3,6 ;banco 0
                      00060                         ;===========================================================================
                      00061                         ;BLOQUE QUE DEFINE LAS CONDICIONES INICIALES DEL SISTEMA
                      00062                         ;===========================================================================
                      00063                         ;inicia parámetros relativos a lamparas         
                      00064 
0007   01A6           00065                         clrf nlamp      ;inicia el contador de lámparas (nlamp) en la primera (l1)
                      00066 
                      00067                         ;eL CONTEO INICIAL ES 000 000
0008   01A0           00068                         clrf l1
0009   01A1           00069                         clrf l2
000A   01A2           00070                         clrf l3
000B   01A3           00071                         clrf l4
000C   01A4           00072                         clrf l5
000D   01A5           00073                         clrf l6
                      00074         
                      00075                         ;-------------------------------------------------------------------------------
                            ------------------------------------    
                      00076                         ;definicion de Entradas y Salidas
                      00077                         ;modifica los registros TRIS (banco 1 de la RAM)
                      00078 
000E   1683           00079                         bsf 3,5                 ;banco 1 RAM
                      00080 
000F   0188           00081                         clrf 8                  ;Bus de Datos de los displays
0010   0189           00082                         clrf 9                  ;Puerto E salidas
0011   30C7           00083                         movlw b'11000111'       ;rc3, rc4 y rc5 salidas
0012   0087           00084                         movwf 7
0013   30FF           00085                         movlw 0xff
0014   0086           00086                         movwf 6                 ;Puerto B entrada
                      00087 
                      00088                         ;-------------------------------------------------------------------------------
                            ------------------------------------    
                      00089                         ;definición de líneas digitales
                      00090         
0015   3007           00091                         movlw 7         ;líneas del Puerto E DIGITALES
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0016   009F           00092                         movwf ADCON1
                      00093                         ;-------------------------------------------------------------------------------
                            ------------------------------------                            
                      00094                         ;definición de parámetros para el TMR0 (Temporizador 0)
                      00095                         ;TMR0 en modo timer, con pscaler / 64
                      00096                         ;Ciclo de instrucción=0.25 US
                      00097                         ;PULL UPS habilitados RBPU = 0.
                      00098 
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0017   3004           00099                         movlw 4                 ;00000100, prescaler k = 4
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0018   0081           00100                         movwf OPTION_REG
                      00101 
                      00102                         ;-------------------------------------------------------------------------------
                            ------------------------------------                            
                      00103                         ;habilitación de la interrupción del TMR0 y Interrupciones Globales deshabilitad
                            as
                      00104                         ;(GIE = 0, T0IE = 1) por el momento.
                      00105 
0019   3020           00106                         movlw b'00100000'               ;11100000
001A   008B           00107                         movwf 0x0b                      ;int del tmr0 habilitada
                      00108                         ;-------------------------------------------------------------------------------
                            ------------------------------------                            
001B   1283           00109                         bcf 3,5                         ;banco 0 de la RAM
                      00110         
                      00111 ;=============================================================================================
                      00112 ;BLOQUE PRINCIPAL (PROGRAMA PRINCIPAL)
                      00113 ;=============================================================================================
                      00114 
001C   0181           00115                         clrf TMR0               ;inicia timer 0
                      00116                         
001D   178B           00117                         bsf INTCON,7            ;habilita todas las interrupciones (sincroniza sistema).
                      00118 
                      00119                         ;-------------------------------------------------------------------------------
                            ---------
                      00120                         ;testea tecla
001E   1806           00121 test                    btfsc 6,0
001F   281E           00122                         goto test               ;tecla inactiva, seguir testeando
                      00123                         ;-------------------------------------------------------------------------------
                            ---------
0020   2074           00124                         call cuenta_up  ;contar
                      00125                         ;-------------------------------------------------------------------------------
                            ---------
0021   1C06           00126 wait                    btfss 6,0               ;espera a que suelte la tecla
0022   2821           00127                         goto wait
0023   2099           00128                         call dem_150ms  ;demora antirebote
0024   281E           00129                         goto test                       
                      00130 
                      00131 ;=============================================================================================
                      00132 ;BLOQUE DE SUBRUTINAS
                      00133 ;=============================================================================================
                      00134 ;subrutina de Atención a Interrupción. Este caso incluye la decodificación de BCD a 7 segmentos
                      00135 ;Atención al timer0, cada vez que se desborda; para refrescar el display cada 1ms.
                      00136 ;*******************************************************************************************************
                            *********************************************
0025                  00137 IT              ;---------------------------------------------------------------------------------------
                            --------------------------------------------------------------------------
                      00138                 ;respaldo de registros. Los registros de mayor USO en el Programa Principal
                      00139                 ;deben ser respaldados durante la ejecución de una Interrupción para evitar
                      00140                 ;que pierdan su valor y al retornar al Programa Principal se produzcan errores.
                      00141                 ;CONSULTE SECCION "SPECIAL FEATURES OF THE CPU" => "INTERRUPTS"
                      00142                 ;en PIC16F87X datasheet.
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00143 
0025   00A7           00144                 movwf wtemp             ;respaldo acumulador.
0026   0E03           00145                 swapf STATUS,w
0027   00A9           00146                 movwf stat_temp ;respaldo del STATUS
0028   0804           00147                 movf FSR,0
0029   00A8           00148                 movwf fsr_temp  ;respaldo del FSR
                      00149                 
                      00150                 ;---------------------------------------------------------------------------------------
                            ------------------      
                      00151                 ;encuesta de banderas. En este segmento se validan la o las interrupciones
                      00152                 ;que hayan sido solicitadas.
                      00153 
002A   1D0B           00154                 btfss INTCON,2          ;T0IF =? 0
002B   285A           00155                 goto back_t0            ;regresa de Interrupción, al parecer fue un error
                      00156 
                      00157                 ;INT del timer 0: Refrescar Display.
                      00158                 ;apaga lámparas al inicio.
                      00159                 ;---------------------------------------------------------------------------------------
                            ------------------
                      00160                 ;apaga comunes del puerto C
002C   1587           00161 refresh         bsf PORTC,3
002D   1607           00162                 bsf PORTC,4
002E   1687           00163                 bsf PORTC,5
                      00164                 ;apaga comunes del puerto E
002F   30FF           00165                 movlw 0xff
0030   0089           00166                 movwf 9
                      00167 
                      00168                 ;---------------------------------------------------------------------------------------
                            ------------------
                      00169                 ;inicia el FSR  
0031   3020           00170                 movlw 0x20
0032   0084           00171                 movwf FSR
                      00172 
                      00173                 ;chequea en que PUERTO (C ó E) está el común que debe activarse
                      00174                 ;en función de nlamp.
                      00175                 ;---------------------------------------------------------------------------------------
                            ------------------
                      00176                 ;nlamp >= 2?
                      00177 
0033   0826           00178                 movf nlamp,0
0034   3C02           00179                 sublw 2
0035   1903           00180                 btfsc 3,2
0036   2839           00181                 goto menor              ;nlamp = 2
0037   1C03           00182                 btfss 3,0               ;pregunta por carry, es >< 2
0038   2844           00183                 goto mayor_2
                      00184 
                      00185                 ;carry = 1 ==> nlamp = < 2
                      00186 
0039   0826           00187 menor           movf nlamp,0
003A   2062           00188                 call cod_act
003B   3907           00189                 andlw 7         ;máscara para eliminar dato del puerto E
003C   00AF           00190                 movwf temp
003D   1003           00191                 bcf 3,0                 ;limpia carry antes de rotar
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[305]: Using default destination of 1 (file).
003E   0DAF           00192                 rlf temp
Message[305]: Using default destination of 1 (file).
003F   0DAF           00193                 rlf temp
Message[305]: Using default destination of 1 (file).
0040   0DAF           00194                 rlf temp                ;rota izq
                      00195 
                      00196                 ;trucaje para no afectar dato
                      00197 
0041   082F           00198                 movf temp,0             ;leo cod act
0042   0587           00199                 andwf 7,1               ;sumo para no afectar
0043   284E           00200                 goto dato
                      00201 
                      00202                 ;carry = 1 nlamp > 2
                      00203 
0044   0826           00204 mayor_2 movf nlamp,0
0045   2062           00205                 call cod_act
0046   01AF           00206                 clrf temp
0047   00AF           00207                 movwf temp              ;respalda valor
0048   1003           00208                 bcf 3,0                 ;limpia carry antes de rotar
Message[305]: Using default destination of 1 (file).
0049   0CAF           00209                 rrf temp
Message[305]: Using default destination of 1 (file).
004A   0CAF           00210                 rrf temp
Message[305]: Using default destination of 1 (file).
004B   0CAF           00211                 rrf temp
004C   082F           00212                 movf temp,w             ;cod act al acum.
004D   0089           00213                 movwf 9                 ;cod. de act al puerto E
                      00214                 ;sacar el dato para la lámpara nlamp
                      00215 
004E   0826           00216 dato            movf nlamp,w
004F   0784           00217                 addwf FSR,1                     
0050   0800           00218                 movf INDF,0
0051   2069           00219                 call cod_ss
0052   0088           00220                 movwf 8
                      00221                 ;comf 8
                      00222 
                      00223                 ;próxima  lámpara
                      00224 
0053   0826           00225                 movf nlamp,w
0054   3C05           00226                 sublw 5
0055   1D03           00227                 btfss 3,2
0056   2859           00228                 goto menor_5
                      00229 
                      00230                 ;nlamp = 0
                      00231 
0057   01A6           00232                 clrf nlamp
0058   285A           00233                 goto back_t0
                      00234                 
                      00235                 ;nlamp < 5
                      00236 
Message[305]: Using default destination of 1 (file).
0059   0AA6           00237 menor_5 incf nlamp
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00238 
005A   110B           00239 back_t0 bcf INTCON,2            ;limpia la bandera de INT del timer0
                      00240 
005B   0828           00241 back            movf fsr_temp,w
005C   0084           00242                 movwf FSR               ;restituye FSR
005D   0E29           00243                 swapf stat_temp,w
005E   0083           00244                 movwf STATUS    ;restituye STATUS
005F   0EA7           00245                 swapf wtemp,f
0060   0E27           00246                 swapf wtemp,w   ;restituye W sin afectar las banderas del STATUS.
                      00247                                         ;la instrucción "swapf   f ", no afecta el contenido del STATUS 
                                            
0061   0009           00248                 retfie                  ;retorno de la subrutina.
                      00249 
                      00250 ;*************************************************************************************************
                      00251 ;tabla de códigos de activación (ánodo común)
                      00252 
0062   0782           00253 cod_act addwf PCL,1             ;suma el offset al acum.
0063   34FE           00254                 retlw b'11111110'
0064   34FD           00255                 retlw b'11111101'
0065   34FB           00256                 retlw b'11111011'
0066   34F7           00257                 retlw b'11110111'
0067   34EF           00258                 retlw b'11101111'
0068   34DF           00259                 retlw b'11011111'
                      00260 ;**************************************************************************************************
                      00261 ;tabla decodificadora de BCD a caracteres 7 SEGMENTO para ÁNODO COMÚN.
                      00262 ;Si se trabajara códigos para CÁTODO se complementaría cualquier DATO que
                      00263 ;deba salir ya sea hacia los comunes o hacia el BUS de Segmentos.
                      00264 
0069   0782           00265 cod_ss          addwf   PCL,1
006A   34C0           00266                 retlw   0xc0                    ;"0"
006B   34F9           00267                 retlw   0xf9                    ;"1"
006C   34A4           00268                 retlw   0xa4                    ;"2"
006D   34B0           00269                 retlw   0xb0                    ;"3"
006E   3499           00270                 retlw   0x99                    ;"4"
006F   3492           00271                 retlw   0x92                    ;"5"
0070   3482           00272                 retlw   0x82                    ;"6"
0071   34B8           00273                 retlw   0xb8                    ;"7"
0072   3480           00274                 retlw   0x80                    ;"8"
0073   3498           00275                 retlw   0x98                    ;"9"
                      00276 ;*****************************************************************************************************
                      00277 ;Subrutina de conteo ascendente (6 dígitos)
                      00278 ;Usted debe diseñar la subrutina de conteo descendente.
                      00279 
0074                  00280 cuenta_up       ;-----------------------------------
                      00281                 ;procesa L6
Message[305]: Using default destination of 1 (file).
0074   0AA5           00282                 incf l6
0075   0825           00283                 movf l6,w
0076   3C0A           00284                 sublw d'10'
0077   1D03           00285                 btfss 3,2
0078   0008           00286                 return          ;no incrementar dígito adyacente
                      00287                 ;llego a 10
0079   01A5           00288                 clrf l6
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00289                 ;-----------------------------------
                      00290                 ;procesa L5
Message[305]: Using default destination of 1 (file).
007A   0AA4           00291                 incf l5
007B   0824           00292                 movf l5,w
007C   3C0A           00293                 sublw d'10'
007D   1D03           00294                 btfss 3,2
007E   0008           00295                 return          ;no incrementar dígito adyacente
                      00296                 ;llego a 10
007F   01A4           00297                 clrf l5
                      00298                 ;-----------------------------------
                      00299                 ;procesa L4
Message[305]: Using default destination of 1 (file).
0080   0AA3           00300                 incf l4
0081   0823           00301                 movf l4,w
0082   3C0A           00302                 sublw d'10'
0083   1D03           00303                 btfss 3,2
0084   0008           00304                 return          ;no incrementar dígito adyacente
                      00305                 ;llego a 10
0085   01A3           00306                 clrf l4
                      00307                 ;-----------------------------------
                      00308                 ;procesa L3
Message[305]: Using default destination of 1 (file).
0086   0AA2           00309                 incf l3
0087   0822           00310                 movf l3,w
0088   3C0A           00311                 sublw d'10'
0089   1D03           00312                 btfss 3,2
008A   0008           00313                 return          ;no incrementar dígito adyacente
                      00314                 ;llego a 10
008B   01A2           00315                 clrf l3
                      00316                 ;-----------------------------------
                      00317                 ;procesa L2
Message[305]: Using default destination of 1 (file).
008C   0AA1           00318                 incf l2
008D   0821           00319                 movf l2,w
008E   3C0A           00320                 sublw d'10'
008F   1D03           00321                 btfss 3,2
0090   0008           00322                 return          ;no incrementar dígito adyacente
                      00323                 ;llego a 10
0091   01A1           00324                 clrf l2
                      00325                 ;-----------------------------------
                      00326                 ;procesa L1
Message[305]: Using default destination of 1 (file).
0092   0AA0           00327                 incf l1
0093   0820           00328                 movf l1,w
0094   3C0A           00329                 sublw d'10'
0095   1D03           00330                 btfss 3,2
0096   0008           00331                 return          ;no incrementar dígito adyacente
                      00332                 ;llego a 10
0097   01A0           00333                 clrf l1
0098   0008           00334                 return
                      00335 ;*****************************************************************************************************
                      00336 ;DEMORA DE 150 ms antirebote para leer el pulsante
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00337 ;*****************************************************************************************************
0099   3064           00338 dem_150ms       movlw d'100'
009A   00AE           00339                 movwf M
009B   302C           00340                 movlw d'44'
009C   00AD           00341                 movwf N
009D   209F           00342                 call demora
009E   0008           00343                 return
                      00344 ;*****************************************************************************************************
                      00345 ;subrutina de DEMORA paramétrica general
                      00346 ;*****************************************************************************************************
009F                  00347 demora  ;return
009F   082D           00348                 movf N,w
00A0   00AA           00349                 movwf cont1
00A1   00AB           00350                 movwf cont2
00A2   082E           00351                 movf M,w
00A3   00AC           00352                 movwf cont3
Message[305]: Using default destination of 1 (file).
00A4   0BAA           00353 loop            decfsz cont1
00A5   28A4           00354                 goto loop
00A6   082D           00355                 movf N,w
00A7   00AA           00356                 movwf cont1
Message[305]: Using default destination of 1 (file).
00A8   0BAB           00357                 decfsz cont2
00A9   28A4           00358                 goto loop
00AA   082D           00359                 movf N,w
00AB   00AB           00360                 movwf cont2
Message[305]: Using default destination of 1 (file).
00AC   0BAC           00361                 decfsz cont3
00AD   28A4           00362                 goto loop
                      00363                 ;fin del proceso
00AE   0008           00364                 return
                      00365 
                      00366                 
                      00367                 end
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE  9


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE 10


SYMBOL TABLE
  LABEL                             VALUE 

CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
IT                                00000025
M                                 0000002E
N                                 0000002D
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F871                          00000001
back                              0000005B
MPASM 03.90 Released                             CONT_ASC.ASM   12-19-2007  16:28:04         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

back_t0                           0000005A
cod_act                           00000062
cod_ss                            00000069
cont1                             0000002A
cont2                             0000002B
cont3                             0000002C
cuenta_up                         00000074
dato                              0000004E
dem_150ms                         00000099
demora                            0000009F
fsr_temp                          00000028
inicio                            00000005
l1                                00000020
l2                                00000021
l3                                00000022
l4                                00000023
l5                                00000024
l6                                00000025
loop                              000000A4
mayor_2                           00000044
menor                             00000039
menor_5                           00000059
nlamp                             00000026
refresh                           0000002C
stat_temp                         00000029
temp                              0000002F
test                              0000001E
wait                              00000021
wtemp                             00000027


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXX- ----------------

All other memory blocks unused.

Program Memory Words Used:   172
Program Memory Words Free:  1876


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    19 reported,     0 suppressed

